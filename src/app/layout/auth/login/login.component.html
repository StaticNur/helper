@if (isLoading) {
  <app-loading></app-loading>
}
<div class="flex justify-center items-center w-full text-white p-5 bp-[#141414] z-0 mt-16">
  <div class="flex flex-col justify-center items-center w-full max-w-md bp-[#141414] p-8 rounded-xl border-[2px] border-[#939393] shadow-md">
      <img class="w-[90px] rounded-lg" src="assets/eduguru.png" alt="photo">
      <h1 class="text-2xl font-bold mb-6 mt-3">Вход в Helper</h1>
    <form (ngSubmit)="onSubmit()" #loginForm="ngForm" class="w-full">
      <div class="mb-4">
        <label for="email" class="block">Email:</label>
        <input type="email" required #email="ngModel" [(ngModel)]="loginPerson.username" name="email"
               [ngClass]="{'is-invalid': email.invalid && (email.dirty || email.touched)}" class="mt-1 p-2 w-full border-[#707070] border-[3px] rounded-lg bg-[#222222] hover:bg-[#272727] text-white"
               id="email">
        <div *ngIf="email.invalid && (email.dirty || email.touched)">
          <div *ngIf="email.hasError('required')" class="alert alert-danger mt-2" role="alert">
            Поле должно быть заполнено
          </div>
        </div>
      </div>
      <div class="mb-6 relative">
        <label for="password" class="block">Password:</label>
        <input [type]="showPassword ? 'text' : 'password'" minlength="4" required #password="ngModel"
               [(ngModel)]="loginPerson.password"
               name="password" [ngClass]="{'is-invalid': password.invalid && (password.dirty || password.touched)}"
               class="mt-1 p-2 w-full border-[#707070] border-[3px] rounded-lg bg-[#222222] hover:bg-[#272727] text-white" id="password">

        <div *ngIf="password.invalid && (password.dirty || password.touched)">
          <div *ngIf="password.hasError('minlength')" class="alert alert-danger mt-2 text-red-500" role="alert">
            Минимальная длина пароля должна быть больше 4 символов
          </div>
          <div *ngIf="password.hasError('required')" class="alert alert-danger mt-2 text-red-500" role="alert">
            Поле должно быть заполнено
          </div>
        </div>
        <button
          type="button"
          class="absolute h-6 mt-9 inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700"
          (click)="togglePasswordVisibility()"
        >
          <img *ngIf="showPassword" src="assets/eye.svg" height="24" width="24" alt="">
          <img *ngIf="!showPassword" src="assets/eye-slash.svg" height="24" width="24" alt="">
        </button>
      </div>
      <button type="submit" class="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600"
              [disabled]="!loginForm.valid">Login
      </button>
    </form>

    <p class="mt-6">У вас нет аккаунта? <a routerLink="/register" class="text-[#3b82f6]">Зарегистрироваться</a></p>
  </div>
</div>
